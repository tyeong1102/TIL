# 2장. 이상한 나라의 객체

## 행동이 상태를 결정한다.

 객체란 식별 가능한 물리적 또는 개념적 경계를 지닌 것을 말한다. 객체의 행동(behavior)은 상태(state)에 영향을 주기 때문에 행동의 순서가 매우 중요하다. 그런데 객체의 행동과 상태가 변화한다고 객체 자체가 달라지면 안되기 때문에, 식별자(identitiy)를 사용한다.

- 상태의 필요성
    
     위에서 말했듯이 상태는 행동의 영향을 받는다. 그래서 행동의 과정과 결과를 단순하게 기술하기 위해서 상태라는 개념을 만든 것이다. 상태를 통해 과거와 상관없이 현재를 기반으로 객체의 행동 방식을 이해할 수 있게 되는 것이다.
    
    - 프로퍼티 vs 프로퍼티 값
        
         객체의 상태를 구성하는 모든 특징을 프로퍼티(property)라고 하고 그 프로퍼티의 값을 프로퍼티 값(property value)라고 한다. 예를 들어보자면, 앨리스라는 객체의 프로퍼티는 키, 몸무게 등이 되는 것이고 프로퍼티 값은 160cm, 50kg이 되는 것이다. 위에서 알 수 있듯이 프로퍼티는 정적이고, 프로퍼티의 값은 밥이라는 객체를 먹는다는 행동에 따라 달라질 수 있기 때문에 동적이다. 이 설명을 보면 밥이 앨리스의 몸무게를 변경시킬 수 있는데, 이처럼 객체와 객체 사이의 의미 있는 연결을 링크(link)라고 한다. 프로퍼티는 객체를 구성하는 단순한 값인 속성과 다른 객체를 가리키는 링크의 조합이다.
        
- 행동의 필요성
    
     행동이란 요청 또는 수신된 메세지에 응답하기 위해 동작하고 반응하는 활동을 말한다. 객체의 상태는 저절로 변경되지 않기 때문에 행동의 부수 효과라고도 한다. 즉, 객체의 상태는 행동의 결과인 것이다. 앞 문장에서 행동이 요청과 응답을 위한 활동이라고 했는데 이는 객체의 행동이 협력에 참여하기 위한 방법이라는 것을 말한다. 앞 장에서 말했듯이 객체의 자율성을 보장하기 위해 캡슐화라는 것을 사용한다. 캡슐화를 사용하였기 때문에 객체는 상태는 캡슐안으로 숨기고 외부에 노출하는 것은 오직 행동이여서 외부에서 객체에 접근할 수 있는 방법도 행동 말고는 없다.
    
- 식별자의 필요성
    
     식별자란 객체안에 존재하는 객체를 서로 구별할 수 있는 프로퍼티를 말한다. 식별자의 유무는 값과 객체의 가장 큰 차이점이라고 할 수 있다. 우선 값은 상태를 이용해서 두 값이 같은지만 판단하는 동등성(equality)을 가진다. 그러나 객체는 식별자를 기반으로 같은 객체인지를 판단할 수 있는 동일성(identical)을 가진다. 예를 들어 키와 몸무게를 포함한 모든 상태가 같은 사람일지라도 같은 사람으로 인식하지 않는 것은 상태 변경에 독립적인 식별자가 있기 때문이다.
    
- 응집도 높고 재사용 가능한 객체
    
     만약 행동보다 상태를 먼저 결정하면 어떻게 될까?
    
    1. 캡슐화가 저해된다.
    2. 객체의 협력을 저해한다.
    3. 객체의 재사용성을 저해한다.
    

> 애플리케이션 안에서 역할에 따른 어떤 행동을 원하는지가 어떤 객체가 적합한지 결정하기 때문에, 역할에 따른 어떤 책임이 필요한가를 결정하는 과정이 전체 설계를 주도해야 한다. 역할의 명확한 부여를 위해 핵심만 추려 도메인에서 사용되는 이름을 사용하여 객체를 묘사하는 것이 좋다.
>