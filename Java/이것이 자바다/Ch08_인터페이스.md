# ch.08 인터페이스

### 인터페이스의 역할

 인터페이스는 두 객체를 연결하는 역할을 한다. 두 객체를 직접 연결하는 것이 아니기 때문에, 하나의 객체가 교체 되더라도 다른 하나의 객체를 수정할 필요가 없다. 이러한 이유 때문에 다형성 구현에 주된 기술로 사용된다.

### 추상 메소드

 인터페이스의 추상 메소드는 기본적으로 public 접근 제한을 가지기 때문에, public 보다 낮은 접근 제한으로 재정의 할 수 없다. interface에서 메소드 선언부만 작성하고 구현 클래스에서 재정의 해서 사용한다. 인터페이스 변수는 참조 타입이기 때문에 구현 객체의 번지를 저장한다.

### 디폴트 메소드

 인터페이스에는 완전한 실행 코드를 가진 즉, 실행부가 있는 디폴트 메소드를 선언할 수 있다. default 키워드가 리턴 타입 앞에 붙고, 실행부에는 상수 필드를 읽거나 추상 메소드를 호출하는 코드를 작성할 수 있다. 디폴트 메소드는 구현 객체가 필요한 메소드이기 때문에, 아래의 코드에서 처럼 구현 객체인 Television 객체를 인터페이스 변수에 대입하고 나서 호출할 수 있다.

```java
public class RemoteControlExample {
	public static void main(String[] args) {
		// 인터페이스 변수 선언
		RemoteControl rc;

		// Television 객체를 생성하고 인터페이스 변수에 대입
		rc = new Television();
		rc.turnOn();
		rc.setVolume(5);

		// setMute()라는 디폴트 메서드가 있다고 가정.
		rc.setMute(true);
		rc.setMute(false);
	}
}
```

### 다중 인터페이스 구현/상속

 우선 구현 객체는 여러 개의 인터페이스를 implements할 수 있는데, 어떤 인터페이스 변수에 대입되느냐에 따라 변수를 통해 호출할 수 있는 추상 메소드가 결정된다. 인터페이스도 마찬가지로 다른 인터페이스를 상속할 수 있고, 다중 상속을 허용한다. 그리고 부모 인터페이스에 선언된 추상 메소드만 호출 가능하다.

### 타입 변환

 인터페이스의 타입 변환은 인터페이스와 구현 객체 사이에 발생하는데, 인터페이스 변수에 구현 객체를 대입하면 구현 객체는 자동 타입 변환된다. 하지만 인터페이스 타입을 구현 객체 타입으로 변환시키기 위해서는 캐스팅 기호를 사용하여 강제 타입 변환을 해주어야 한다.

### 다형성

 다형성이란, 사용 방법은 동일하지만 다양한 결과가 나오는 성질을 말한다. 상속의 다형성과 마찬가지로 인터페이스 역시 재정의와 자동 타입 변환을 사용하여 다형성을 구현하는데, 현업에서는 인터페이스를 통한 구현을 더 많이 사용한다.

- 필드 다형성
    
     아래 코드처럼 필드 타입으로 인터페이스를 선언하면, 자동 타입 변환 때문에 필드 값으로 객체를 대입할 수 있다.
    
    ```java
    public class Car {
    	Tire tire1 = new HankookTire();
    	Tire tire2 = new KumhoTire();
    }
    ```
    
- 매개변수 다형성
    
    ```java
    public interface Vehicle {
    	void run();
    }
    
    public class Driver {
    	void drive(Vehicle vehicle) {
    		vehicle,run();
    	}
    }
    ```
    
     위와 같은 방식으로, 구현객체가 대입될 수 있도록 매개변수를 인터페이스 타입으로 선언하면, 인터페이스를 구현하는 어떠한 객체라도 매개값으로 줄 수 있기 때문에, 객체에 따라 run() 메소드의 실행 결과는 다르게 나온다.